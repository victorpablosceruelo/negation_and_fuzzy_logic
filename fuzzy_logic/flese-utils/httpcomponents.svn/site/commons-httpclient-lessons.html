<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jun 12, 2013 ( $Revision: 1492329 $ ) -->
<!-- $HeadURL: https://svn.apache.org/repos/asf/httpcomponents/maven-skin/trunk/src/main/resources/META-INF/maven/site.vm $ -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Apache HttpComponents - Lessons Learned - Jakarta Commons HttpClient</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20130612" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://www.apache.org/" id="bannerLeft">
                                        <img src="http://www.apache.org/images/asf_logo_wide.gif" alt="Apache" />
                </a>
                                            <a href="./" id="bannerRight">
                                                <img src="images/logos/httpcomponents.png" alt="HttpComponents" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2013-06-12</span>
                  &nbsp;| <span id="projectVersion">Version: 7-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="http://www.apache.org/" class="externalLink" title="Apache">Apache</a>
            |
                        <a href="index.html" title="HttpComponents">HttpComponents</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>HttpComponents</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Home">Home</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/licenses/" class="externalLink" title="License">License</a>
            </li>
                  <li class="none">
                          <a href="downloads.cgi" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="mail.html" title="Mailing Lists">Mailing Lists</a>
            </li>
                  <li class="none">
                          <a href="user-docs.html" title="User documents">User documents</a>
            </li>
                  <li class="none">
                          <a href="dev-docs.html" title="Developer documents">Developer documents</a>
            </li>
                  <li class="none">
                          <a href="http://wiki.apache.org/HttpComponents/" class="externalLink" title="Wiki (external)">Wiki (external)</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/security/" class="externalLink" title="Security">Security</a>
            </li>
          </ul>
                       <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="About">About</a>
            </li>
                  <li class="none">
                          <a href="news.html" title="News">News</a>
            </li>
                  <li class="none">
                          <a href="poweredby.html" title="Powered by">Powered by</a>
            </li>
                  <li class="none">
                          <a href="get-involved.html" title="Get Involved">Get Involved</a>
            </li>
          </ul>
                       <h5>Components</h5>
                  <ul>
                  <li class="none">
                          <a href="httpcomponents-client-ga/index.html" title="HttpClient (GA)">HttpClient (GA)</a>
            </li>
                  <li class="none">
                          <a href="httpcomponents-client-dev/index.html" title="HttpClient (DEV)">HttpClient (DEV)</a>
            </li>
                  <li class="none">
                          <a href="httpcomponents-core-ga/index.html" title="HttpCore (GA)">HttpCore (GA)</a>
            </li>
                  <li class="none">
                          <a href="httpcomponents-core-dev/index.html" title="HttpCore (DEV)">HttpCore (DEV)</a>
            </li>
                  <li class="none">
                          <a href="httpcomponents-asyncclient-dev/index.html" title="HttpAsyncClient (DEV)">HttpAsyncClient (DEV)</a>
            </li>
          </ul>
                       <h5>Legacy</h5>
                  <ul>
                  <li class="none">
                          <a href="httpclient-legacy/index.html" title="Commons HttpClient">Commons HttpClient</a>
            </li>
          </ul>
                       <h5>Project</h5>
                  <ul>
                  <li class="none">
                          <a href="status.html" title="Status">Status</a>
            </li>
                  <li class="none">
                          <a href="charter.html" title="Charter">Charter</a>
            </li>
                  <li class="none">
                          <a href="bylaws.html" title="Bylaws">Bylaws</a>
            </li>
                  <li class="none">
                          <a href="goals.html" title="Goals">Goals</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
          </ul>
                       <h5>ASF</h5>
                  <ul>
                  <li class="none">
                          <a href="http://www.apache.org" class="externalLink" title="ASF Home Page">ASF Home Page</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/foundation/" class="externalLink" title="Foundation">Foundation</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsor Apache">Sponsor Apache</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks">Thanks</a>
            </li>
          </ul>
                                                                                                                   <a href="http://www.apache.org/events/current-event.html" title="ApacheCon" class="poweredBy">
        <img class="poweredBy"  alt="ApacheCon" src="http://www.apache.org/events/current-event-125x125.png"    />
      </a>
                                                                                                    <a href="http://maven.apache.org/" title="Maven" class="poweredBy">
        <img class="poweredBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                       
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- ==================================================================== --><!-- Licensed to the Apache Software Foundation (ASF) under one --><!-- or more contributor license agreements.  See the NOTICE file --><!-- distributed with this work for additional information --><!-- regarding copyright ownership.  The ASF licenses this file --><!-- to you under the Apache License, Version 2.0 (the --><!-- "License"); you may not use this file except in compliance --><!-- with the License.  You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, --><!-- software distributed under the License is distributed on an --><!-- "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY --><!-- KIND, either express or implied.  See the License for the --><!-- specific language governing permissions and limitations --><!-- under the License. --><!-- ==================================================================== --><!--  --><!-- This software consists of voluntary contributions made by many --><!-- individuals on behalf of the Apache Software Foundation.  For more --><!-- information on the Apache Software Foundation, please see --><!-- <http://www.apache.org/>. --><div class="section"><h2>Lessons Learned<a name="Lessons_Learned"></a></h2><p>The HttpComponents project was undertaken following our experience in developing and supporting Jakarta Commons HttpClient. The shortcomings and inefficiencies listed below emerged during our work with HttpClient and prompted our action. HttpComponents is an attempt to address these issues.</p><div class="section"><h3><a name="Monolithic_design_of_Commons_HttpClient">Monolithic design of Commons HttpClient</a></h3><ul><li>The use patterns of Commons HttpClient have evolved much since its first release. We have found HttpClient used in applications it was never specifically designed for: in spiders, in server side services such as HTTP proxies or light-weight HTTP connectors. Essentially we saw HttpClient users trying to use it as a toolkit of generic HTTP components. In some areas the original monolithic design of Commons HttpClient proved quite lacking.</li><li>HttpClient has a rich set of features. Some of them, however, are used infrequently in a limited number of specific cases, and represent unnecessary code bloat for a sizable percentage of HttpClient users. Moreover, some of those infrequently used features in Commons HttpClient were introduced at the expense of the API clarity. There are some core HTTP components that are required by all HTTP services whether they be on the client or on the server side. More application specific aspects of HTTP, however, cannot be adequately represented by one monolithic library. </li></ul></div><div class="section"><h3><a name="Inherent_API_deficiencies_of_Commons_HttpClient">Inherent API deficiencies of Commons HttpClient</a></h3><ul><li>HttpMethod interface, one of the most fundamental interfaces in Commons HttpClient, is inherently flawed. It tightly couples the HTTP request and HTTP response and implies one to one relationship between the two, which is not always the case.</li><li>Abuse of inheritance. HttpMethodBase class contains the greatest chunk of processing logic in HttpClient. It inseparably couples the logic of generating HTTP requests and processing HTTP responses. This makes it virtually impossible to create a custom implementation of an HttpMethod interface, essentially rendering it useless. In practice all HTTP methods must be derived from HttpMethodBase class.</li><li>The fact that all HTTP methods in practical terms must be derived from one common base (HttpMethodBase) has a number of side effects. For instance, if one needs to introduce a common behavior across all standard HTTP methods, one would have to subclass all the existing subclasses of the HttpMethodBase: GetMethod, PostMethod, etc.</li></ul></div><div class="section"><h3><a name="External_dependencies">External dependencies</a></h3><ul><li>One of the most frequently cited complaints is its dependency on Commons Logging and Commons Codec. We would like to give the users an option to use core HTTP components without any external libraries and a minimal footprint.</li></ul></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
                      
<div class="xleft">Apache HttpComponents, Commons HttpClient, Apache, the Apache feather logo, and the Apache HttpComponents project logo are trademarks of The Apache Software Foundation.</div>
            
<br/>
            
<div class="xleft">All other marks mentioned may be trademarks or registered trademarks of their respective owners.</div>
                <div class="xright">Copyright &#169;                    2005-2013
                        <a href="http://www.apache.org/">Apache Software Foundation</a>.
            All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
