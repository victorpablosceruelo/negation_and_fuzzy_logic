<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

  <bean id="global-params" 
    class="org.apache.http.impl.DefaultHttpParams" 
    singleton="true" />

  <bean id="params" 
    class="org.apache.http.impl.DefaultHttpParams" 
    singleton="false">
    <property name="defaults"><ref bean="global-params"/></property>
  </bean>

  <bean id="http-processor" 
    class="org.apache.http.protocol.BasicHttpProcessor" 
    singleton="true" >
    <property name="interceptors">
      <list>
        <!-- Required request interceptors -->
        <bean class="org.apache.http.protocol.RequestContent" />
        <bean class="org.apache.http.protocol.RequestTargetHost" />
        <!-- Recommended request interceptors -->
        <bean class="org.apache.http.protocol.RequestConnControl" />
        <bean class="org.apache.http.protocol.RequestUserAgent" />
        <bean class="org.apache.http.protocol.RequestExpectContinue" />
      </list>
    </property>
  </bean>
  
  <bean id="http-executor" 
    class="org.apache.http.protocol.HttpRequestExecutor" 
    singleton="true" >
    <constructor-arg index="0"><ref bean="http-processor"/></constructor-arg>
  </bean>
  
  <bean id="http-request-factory"
    class="org.apache.http.impl.DefaultHttpRequestFactory" 
    singleton="false" />
  
  <bean id="http-response-factory"
    class="org.apache.http.impl.DefaultHttpResponseFactory" 
    singleton="false" />
  
  <bean id="conn-reuse-strategy"
    class="org.apache.http.impl.DefaultConnectionReuseStrategy" 
    singleton="true" />
    
</beans>
