
           EMBEDDING MAILMAN ARCHIVES IN THE CIAO WEBSITE
           ==============================================

This directory contain the files nedded to apply the www.ciaohome.org
style to the Ciao-users mailman list web files. 

This procedure must be applied **ONLY** when the header or the menu of
the ciaohome.org web page is changed.

Authors:

  Guillermo Roman Diez (main author)
  Jose F. Morales

---------------------------------------------------------------------------
CONFIGURATION SETTINGS
---------------------------------------------------------------------------

'Makefile' contains some parameters that must be checked: 

    DIR_MAILMAN -> Directory where mailman is installed

    LIST        -> List name where style modifications will be applied

'fillcontent.pl' also contains some parameters that may be modified:

    footer  -> Contains the text added in the web page foot 

    pubsite -> URL where CSS files and images are accesible. Normally
               www.ciaohome.org. This path is needed to create
               absolute references to menu links and CSS files.

---------------------------------------------------------------------------
PREPARATION
---------------------------------------------------------------------------

Before executing this procedure at the first time, copy the directory
'/etc/mailman/en' in the directory '/var/list/mailman/lists/$LIST/en'

  export LIST=testmig
  sudo cp -r /etc/mailman/en/ /var/lib/mailman/lists/$LIST/en
  sudo chown -R list:list /var/lib/mailman/lists/$LIST/en

---------------------------------------------------------------------------
INSTALLATION
---------------------------------------------------------------------------

All commands must be run by the user "list", in the 'clip'
machine. All commands needed are executed just running:

   make 

If you want to run it step by step, the detailed explanation are:

   make clean # Removes all temporary files

   make get   # Fetch the index file of ciaohome.org (from which
                the structure of the pages will be copied).

   make gen   # Generate mailman files mimicking the structure and
                style of ciaohome.org (using fillcontent_ciao).

   make gen   # Runs a perl sript that takes the ciaohome.org file and
                plug inside all the source code needed by mailman.

   make dry_publish # Prints the commands that will be executed if
                      user run make publish

   make publish # Copy the generated html files to mailman directory
    	 	  and generate again the archives files to publish
    	 	  them using the new style.
		    
