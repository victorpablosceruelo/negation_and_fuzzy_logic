# -*- mode: Makefile; -*-
##
## vmwinxp.cfg
##  
## Made by Edison Mera
##
## Started on  Wed Oct  4 16:49:45 2006 Edison Mera
## Last update Thu May 13 00:41:50 2010 Edison Mera
## 

## ----------------------------------------------------------------------------
## Note: This file is part of the Ciao Bot. Its source is in the
## Ciao repository, only change it in a working copy, otherwise the
## changes made by you will be lost.
## ----------------------------------------------------------------------------

# Config file for Win32i86

CONFIGURE_VARS=

CONFIGURE_OPTS=--silent=true \
	--instype=local --registration_type=all \
	--install_xemacs_support=no --install_emacs_support=no \
	--update_dotemacs=no --update_dotxemacs=no \
	--update_bashrc=no --update_cshrc=no \
	--with_gsl=yes --gen_ciaopp_asr=yes

INSTALL_VARS=
UNINSTALL_VARS=

# The packing option use a default packager, but you can configure other
# packaging method here:

gen_pbundle__host_$(HOSTNAME): gen_pbundle__osarch_Win32i86

install_pbundle__host_$(HOSTNAME): install_pbundle__osarch_Win32i86

uninstall_pbundle__host_$(HOSTNAME): uninstall_pbundle__osarch_Win32i86

# The name of the produced packages (for example, in windows is
# CiaoDE-1.13.0-7689.exe)

PRODUCED_PBUNDLE_ITEMS=1
PRODUCED_PBUNDLE_ITEM[1]= $(PBUNDLE_BASE).exe
STORED_PBUNDLE_ITEM[1]=$(PRODUCED_PBUNDLE_ITEM[1])

# Specifies if the generated logs must be copied to the master machine:

BACKUP_LOG=yes

# Windows needs to be rebooted after finish the compilation, due to a bug in
# the operating system that maintain locked some executable files.
# Wait some seconds before to reboot:

HOOK_AFTER_COMPILE=reboot -r -f 30
HOOK_AFTER_FAILURE=$(HOOK_AFTER_COMPILE)

CC=gcc

TESTTYPE=norm
