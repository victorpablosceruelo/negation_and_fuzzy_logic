# -*- mode: Makefile; -*-
# Misc. options, depending on the SETTINGS file
#USE_THREADS=no

ifeq ($(USE_THREADS),yes)
    LD_THREAD_LIB=-lpthread
# I do not know how to write locks in MIPS assembler code, so only POSIX
# locks are accepted at the moment.
# ifeq ($(USE_POSIX_LOCKS),yes)
#     THREAD_FLAG=-DTHREADS -DUSE_POSIX_THREADS
#     LD_LOCK_LIB=
# else
    THREAD_FLAG=-DTHREADS
    LD_LOCK_LIB=
# endif
else
    LD_THREAD_LIB=
    THREAD_FLAG=
    LD_LOCK_LIB=
endif

FOREIGN_FILES_FLAG=-DFOREIGN_FILES


ifeq ($(OPTIM_LEVEL),optimized)
     OPTIM_FLAGS=-O
else
ifeq ($(OPTIM_LEVEL),normal)
    OPTIM_FLAGS=
endif
endif


#  Local C compiler
LCC=$(CC)

# C compiler
CC=cc

# Linker
LD=ld

# C compiler options for generating shared libraries code
CCSHARED=

# Linker specific options
LINK_FLAGS=

# Linker options for shared objects
LDSHARED=-shared

# Linker options to combine objects
LDCOMBINE=-r

# Extension of shared libraries
SOSUFFIX=.so

LIBS=-lm $(LD_THREAD_LIB) $(LD_LOCK_LIB) $(DEBUG_LIBS)

ARCHNAME=mips

# Operating system version
OSNAME=IRIX

# How to install an make directories
MKDIR="mkdir -p"
INSTALL=/usr/bin/cp

DEFAULTYPE=dyn
